const data={SELECT:"custom-select",SELECT_CURRENT:"custom-select__selected",SELECT_OPTIONS:"custom-select__items",SELECT_OPTIONS_HIDDEN:"custom-select__items--hidden",SELECT_OPTION_CURRENT:"custom-select__item--selected",SELECT_OPEN:"custom-select__selected--open",SELECT_OPTION:"custom-select__item"},x=document.getElementsByClassName(data.SELECT);for(let e=0;e<x.length;e++){const t=x[e].querySelector("select");x[e].insertAdjacentHTML("beforeend",`\n    <div class="${data.SELECT_CURRENT}">\n${t.options[t.selectedIndex].innerHTML}\n    </div>\n  `);const l=x[e].lastElementChild;x[e].insertAdjacentHTML("beforeend",`\n    <ul class="${data.SELECT_OPTIONS} ${data.SELECT_OPTIONS_HIDDEN}"></ul>\n  `);var b=x[e].lastElementChild;for(let e=1;e<t.length;e++)b.insertAdjacentHTML("beforeend",`\n    <li class="${data.SELECT_OPTION}">`+t.options[e].innerHTML+"</li>\n    "),b.lastElementChild.addEventListener("click",(function(e){if(0==window.getComputedStyle(e.target.parentNode).getPropertyValue("opacity"))return;const t=e.target.parentNode.parentNode.querySelectorAll("select")[0],l=e.target.parentNode.previousElementSibling;for(let n=0;n<t.length;n++)if(t.options[n].innerHTML==e.target.innerHTML){t.selectedIndex=n,l.innerHTML=e.target.innerHTML,Array.from(e.target.parentNode.querySelectorAll(`.${data.SELECT_OPTION_CURRENT}`)).forEach((e=>e.classList.remove(data.SELECT_OPTION_CURRENT))),e.target.classList.add(data.SELECT_OPTION_CURRENT);break}}));l.addEventListener("click",(function(e){e.stopPropagation(),closeAllSelect(e.target),e.target.nextElementSibling.classList.toggle(data.SELECT_OPTIONS_HIDDEN),e.target.classList.toggle(data.SELECT_OPEN)}))}function closeAllSelect(e){var t,l,n,a=[];for(t=document.getElementsByClassName(data.SELECT_OPTIONS),l=document.getElementsByClassName(data.SELECT_CURRENT),n=0;n<l.length;n++)e==l[n]?a.push(n):l[n].classList.remove(data.SELECT_OPEN);for(n=0;n<t.length;n++)a.indexOf(n)&&t[n].classList.add(data.SELECT_OPTIONS_HIDDEN)}window.addEventListener("scroll",(()=>{closeAllSelect()})),document.addEventListener("click",(()=>{closeAllSelect()}));