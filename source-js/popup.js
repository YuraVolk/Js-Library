const data={POPUP:"popup",RENEWING_POPUP:"popup--3",STOP_POPUP_RENEW:"closePopup",CLOSE_POPUP:"popup__close",SHOW_POPUP:"popup-btn",POPUP_TIMED:"popup--timed",POPUP_RENEWING:"popup--renewing",POPUP_TIMER:"popup__timer"};let scroll,timeLeft,isActive,toScroll;function showPopup(t){isActive=!1,"block"!=t.style.display&&(t.style.display="block",stopScroll()),t.classList.contains(data.POPUP_TIMED)&&initTiming(t)}function hidePopup(){Array.prototype.slice.call(document.querySelectorAll(`.${data.POPUP}`)).forEach((t=>{t.classList.contains(data.POPUP_RENEWING)&&"block"===t.style.display&&(isActive=!0),t.style.display="none"})),document.body.style.position="",document.body.style.top="",window.scrollTo(0,toScroll)}function initTiming(t){const e=t;timeLeft=6,e.querySelector(`.${data.POPUP_TIMER}`).textContent=6,e.childNodes[1].childNodes[1].style.display="none",e.childNodes[1].childNodes[3].style.display="block";var o=setInterval((function(){timeLeft--,e.querySelector(`.${data.POPUP_TIMER}`).textContent=timeLeft,timeLeft<1&&(clearInterval(o),e.childNodes[1].childNodes[1].style.display="block",e.childNodes[1].childNodes[3].style.display="none")}),1e3)}function stopScroll(){const t=document.querySelector("body");toScroll=scroll,t.style.position="fixed",t.style.top="-"+scroll+"px"}let timing=setInterval((function(){isActive&&showPopup(document.querySelector(`.${data.RENEWING_POPUP}`))}),15e3);document.addEventListener("click",(t=>{t.target.classList[1]===data.SHOW_POPUP&&showPopup(document.querySelector(`.${data.POPUP}--`+t.target.classList[2].slice(-1))),t.target.classList[0]===data.CLOSE_POPUP&&hidePopup(),t.target.classList[1]===data.STOP_POPUP_RENEW&&(isActive=!1)})),window.addEventListener("scroll",(()=>{scroll=window.pageYOffset})),toScroll=window.pageYOffset;