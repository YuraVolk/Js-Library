const data={TABLE:"jobs-table",TABLE_HEADINGS:"jobs-table__headers",INPUT:"table-filtering__input",OPTION_HIDDEN:"table-filtering__select-option--hidden",OPTION:"table-filtering__select-option",CURRENT_OPTION:"table-filtering__select-current",SELECT:"table-filtering__select-options"},filters=[],table=document.querySelector(`.${data.TABLE}`),filtersEl=table.querySelector(`.${data.TABLE_HEADINGS}`),input=document.querySelector(`.${data.INPUT}`),tableTr=Array.prototype.slice.call(table.children[0].children);tableTr.shift();const select=document.querySelector(`.${data.SELECT}`);let isShown=!1,selected="Name";function showAll(){tableTr.forEach((e=>e.classList.remove(data.OPTION_HIDDEN)))}function filter(){const e=filters.indexOf(selected);tableTr.forEach((t=>{-1===t.children[e].textContent.toLowerCase().indexOf(input.value.toLowerCase())&&t.classList.add(data.OPTION_HIDDEN)}))}Array.prototype.slice.call(filtersEl.children).forEach((e=>{filters.push(e.textContent.charAt(0).toUpperCase()+e.textContent.slice(1))})),filters.forEach((e=>{select.insertAdjacentHTML("beforeend",`<p class="${data.OPTION}">`+e+"</p>")})),document.addEventListener("click",(e=>{e.target.classList[0]===data.CURRENT_OPTION&&(isShown?document.querySelector(`.${data.SELECT}`).classList.add(data.OPTION_HIDDEN):document.querySelector(`.${data.SELECT}`).classList.remove(data.OPTION_HIDDEN),isShown=!isShown),e.target.classList[0]===data.OPTION&&(isShown=!1,document.querySelector(`.${data.SELECT}`).classList.add(data.OPTION_HIDDEN),selected=e.target.textContent,document.querySelector(`.${data.CURRENT_OPTION}`).textContent=selected,showAll(),0!==input.value.trim().length&&filter())})),input.addEventListener("input",(e=>{showAll(),0!==input.value.trim().length&&filter()}));