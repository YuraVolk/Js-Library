const data={CAROUSEL:"carousel-menu__list",ITEM:"carousel-menu__image",BUTTON_LEFT:"carousel-menu-left",BUTTON_RIGHT:"carousel-menu-right"};class Item{constructor(t){t.item=this,this.image=t,this.fullWidth=t.width,this.fullHeight=t.height,this.alt=t.alt,this.title=t.title,t.style.position="absolute",this.moveTo=function(t,i,e){this.width=this.fullWidth*e,this.height=this.fullHeight*e,this.x=t,this.y=i,this.scale=e;var s=this.image.style;s.width=this.width+"px",s.left=t+"px",s.top=i+"px",s.zIndex=""+100*e|0}}}class Carousel{constructor(t,i){var e=this;this.items=[];let s=t;this.xCentre=null===i.xPos?.5*s.offsetWidth:i.xPos,this.yCentre=null===i.yPos?.1*s.offsetHeight:i.yPos,this.xRadius=null===i.xRadius?s.offsetWidth/2.3:i.xRadius,this.yRadius=null===i.yRadius?s.offsetHeight/6:i.yRadius,this.farScale=i.farScale,this.rotation=this.destRotation=Math.PI/2,this.speed=i.speed,this.frameTimer=0,this.rotateItem=function(t,i){var e=this.items[t],s=Math.sin(i),h=this.farScale,a=h+(1-h)*(s+1)*.5;e.moveTo(this.xCentre+a*(Math.cos(i)*this.xRadius-.5*e.fullWidth),this.yCentre+a*s*this.yRadius,a)},this.render=function(){for(var t=this.items.length,i=2*Math.PI/t,e=this.rotation,s=0;s<t;s++)this.rotateItem(s,e),e+=i},this.playFrame=function(){var t=this.destRotation-this.rotation;Math.abs(t)<=0?(this.rotation=this.destRotation,clearTimeout(this.frameTimer),this.frameTimer=0):(this.rotation+=t*this.speed,this.scheduleNextFrame()),this.render()},this.scheduleNextFrame=function(){this.frameTimer=setTimeout((function(){e.playFrame()}),32)},this.itemsRotated=function(){return this.items.length*(Math.PI/2-this.rotation)/(2*Math.PI)},this.floatIndex=function(){var t=this.itemsRotated()%this.items.length;return t<0?t+this.items.length:t},this.nearestIndex=function(){return Math.round(this.floatIndex())%this.items.length},this.go=function(t){this.destRotation+=2*Math.PI/this.items.length*t,0===this.frameTimer&&this.scheduleNextFrame()};var h=s.querySelectorAll(`.${data.ITEM}`);document.addEventListener("click",(t=>{t.target.classList[1]==data.BUTTON_LEFT&&e.go(-1),t.target.classList[1]==data.BUTTON_RIGHT&&e.go(1)})),this.finishInit=function(){clearInterval(this.initTimer);for(var t=0;t<h.length;t++)this.items.push(new Item(h[t]));this.render()},this.initTimer=setInterval((function(){e.finishInit()}),50)}}const options={xPos:null,yPos:112,xRadius:null,yRadius:128,farScale:.9,speed:.11};window.addEventListener("load",(()=>{new Carousel(document.querySelector(`#${data.CAROUSEL}`),options)}));