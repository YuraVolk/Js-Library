const data={IMAGE:"magnifier__image",GLASS:"magnifier__glass"};let width,height,img,zoom,glass;function moveMagnifier(e){let{x:t,y:i}=getCursorPos(e);e.preventDefault(),t>img.width-width/zoom&&(t=img.width-width/zoom),t<width/zoom&&(t=width/zoom),i>img.height-height/zoom&&(i=img.height-height/zoom),i<height/zoom&&(i=height/zoom),glass.style.left=t-width+"px",glass.style.top=i-height+"px",glass.style.backgroundPosition="-"+(t*zoom-width)+"px -"+(i*zoom-height)+"px"}function getCursorPos(e){let t=0,i=0;e=e||window.event;const o=img.getBoundingClientRect();return t=e.pageX-o.left,i=e.pageY-o.top,t-=window.pageXOffset,i-=window.pageYOffset,{x:t,y:i}}window.addEventListener("load",(()=>{zoom=2,img=document.querySelector(`.${data.IMAGE}`),img.parentNode.insertAdjacentHTML("afterbegin",`<div class="${data.GLASS}"></div>`),glass=document.querySelector(`.${data.GLASS}`),glass.style.backgroundImage="url('"+img.src+"')",glass.style.backgroundSize=img.width*zoom+"px "+img.height*zoom+"px",width=glass.offsetWidth/2,height=glass.offsetHeight/2,glass.addEventListener("mousemove",moveMagnifier),img.addEventListener("mousemove",moveMagnifier),glass.addEventListener("touchmove",moveMagnifier),img.addEventListener("touchmove",moveMagnifier)}));