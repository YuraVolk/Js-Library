import pickerWebp from"/src/img/picker.webp";import pickerJPG from"/src/img/picker.webp";const data={OPACITY_RANGE:{WRAP:"color-picker__opacity-range",THUMB:"opacity-range__thumb",TRACK:"opacity-range__track"},CODES:{RGBA:"color-code--rgba",RGB:"color-code--rgb",HEX:"color-code--hex"},COLOR_PICKER_BACKGROUND:"color-picker__current-color",COLOR_PICKER:"color-picker__canvas",OPACITY_BACKGROUND:"color-picker__background"};var opacityRanges=document.getElementsByClassName(data.OPACITY_RANGE.WRAP),rangeOpacity=opacityRanges[0].childNodes,rgba=[132,46,153,1];let opacityGlobal=1;function initColorPicker(){var a=document.getElementById(data.COLOR_PICKER),e=a.getContext("2d"),t=new Image(256,256);0==a.toDataURL("image/webp").indexOf("data:image/webp")?t.src=pickerWebp:t.src=pickerJPG,t.onload=()=>e.drawImage(t,0,0,t.width,t.height),a.onmousedown=function(a){var t=e.getImageData(a.offsetX,a.offsetY,1,1);changeColor(rgba=t.data,opacityGlobal)}}function toHex(a,e,t){function o(a){var e=Number(a).toString(16);return e.length<2&&(e="0"+e),e}var r=o(a),c=o(e),n=o(t);return document.querySelector(`.${data.CODES.HEX}`).textContent="#"+r+c+n,"#"+r+c+n}function rgbaToRgb(a){const e=1-a.alpha;var t=Math.round(255*(a.alpha*(a.red/255)+0*e)),o=Math.round(255*(a.alpha*(a.green/255)+0*e)),r=Math.round(255*(a.alpha*(a.blue/255)+0*e));document.querySelector(`.${data.CODES.RGB}`).textContent="is : "+t+", "+o+", "+r,toHex(t,o,r)}function modifyRange(a){for(var e=0;e<a.length;e++){for(var t=null,o=null,r=0;r<a[e].children.length;r++){var c=a[e].children[r];c.className===data.OPACITY_RANGE.THUMB?t=c:c.className===data.OPACITY_RANGE.TRACK&&(o=c)}t.addEventListener("input",(()=>{o.value=t.value,changeOpacity(o.value),changeColor(rgba,opacityGlobal)}))}}function changeOpacity(a){document.querySelector(`.${data.OPACITY_BACKGROUND}`).style.opacity=a/100,opacityGlobal=a/100}function changeColor(a,e){const t=document.querySelector(`.${data.COLOR_PICKER_BACKGROUND}`),o=document.querySelector(`.${data.CODES.RGBA}`);t.style.backgroundColor="rgba("+a[0]+", "+a[1]+", "+a[2]+", "+e+")",o.textContent=" is "+a[0]+", "+a[1]+", "+a[2]+", "+e,rgbaToRgb({red:a[0],green:a[1],blue:a[2],alpha:opacityGlobal})}initColorPicker(),modifyRange(opacityRanges);try{rangeOpacity[1].value="100",rangeOpacity[3].value="100"}catch{}