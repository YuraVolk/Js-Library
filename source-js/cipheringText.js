const data={START_REBUILD_BUTTON:"start-cipher-btn",STOP_REBUILD_BUTTON:"stop-cipher-btn",TEXT:"ciphering__text",CHANGING_LETTER:"ciphering-text__letter--changed"};let nextPhrase="into text that is reciphered";const phrases=["This text rechipers","into text that is reciphered","still no jQuery or any other plugin","It IS cool"];let isRebuilding=!1;function cipherLetter(t,e,n){const r=["!",'"',"#","$","%","*","0","1",":",";","?","@","[","]","\\","~","'","/","{","}","|","&","(",")","-","<",">"];let a;a=n?Math.round(8*Math.random()+6):Math.round(38*Math.random()+6);let i=!1;var s=0;setTimeout((function(){for(;s<=a;)!function(n){setTimeout((function(){if(!i){let e=r[Math.floor(Math.random()*r.length)];t.textContent=e}n<a||(i=!0,t.textContent=e,t.classList.remove(data.CHANGING_LETTER))}),65*n)}(s++)}),1e3*Math.random())}function splitText(t,e){const n=t.textContent;t.textContent="";for(var r=0;r<n.length;r++)t.insertAdjacentHTML("beforeend","<span>"+n.charAt(r)+"</span>");if(e>n.length)for(r=0;r<e-n.length;r++)t.insertAdjacentHTML("beforeend","<span></span>")}function recipherText(t,e){t.forEach(((t,n)=>{t.textContent!=e.charAt(n)&&(t.classList.add(data.CHANGING_LETTER),0===t.textContent.length?setTimeout((function(){cipherLetter(t,e.charAt(n),!0)}),45*n):cipherLetter(t,e.charAt(n),!1))}))}let inter,element=document.querySelector(`.${data.TEXT}`),gI=-1;document.addEventListener("click",(t=>{t.target.classList[1]===data.START_REBUILD_BUTTON&&(isRebuilding=!0,inter=window.setInterval((()=>{gI===phrases.length-1?gI=0:gI++;let t=gI;nextPhrase=gI===phrases.length-1?phrases[0]:phrases[gI+1],element.textContent=phrases[t],splitText(element,nextPhrase.length),recipherText(Array.prototype.slice.call(element.childNodes),nextPhrase)}),7680)),t.target.classList[1]===data.STOP_REBUILD_BUTTON&&void 0!==inter&&window.clearInterval(inter)}));