/*! For license information please see 582-lit.js.LICENSE.txt */
"use strict";(self.webpackChunkjs_lit_components_library=self.webpackChunkjs_lit_components_library||[]).push([[582],{582:(t,e,s)=>{s.r(e),s.d(e,{ImageComparatorComponent:()=>D,ImageComparatorItem:()=>$});var i=s(2618),n=s(4791),o=s(6752);const r=t=>(...e)=>({_$litDirective$:t,values:e});class c{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,s){this._$Ct=t,this._$AM=e,this._$Ci=s}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}const l="important",a=" !"+l,h=r(class extends c{constructor(t){if(super(t),1!==t.type||"style"!==t.name||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce(((e,s)=>{const i=t[s];return null==i?e:e+`${s=s.includes("-")?s:s.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`}),"")}update(t,[e]){const{style:s}=t.element;if(void 0===this.ft)return this.ft=new Set(Object.keys(e)),this.render(e);for(const t of this.ft)null==e[t]&&(this.ft.delete(t),t.includes("-")?s.removeProperty(t):s[t]=null);for(const t in e){const i=e[t];if(null!=i){this.ft.add(t);const e="string"==typeof i&&i.endsWith(a);t.includes("-")||e?s.setProperty(t,e?i.slice(0,-11):i,e?l:""):s[t]=i}}return o.c0}});class d extends Event{constructor(t,e,s){super("context-request",{bubbles:!0,composed:!0}),this.context=t,this.callback=e,this.subscribe=s??!1}}class u{constructor(t,e,s,i){if(this.subscribe=!1,this.provided=!1,this.value=void 0,this.t=(t,e)=>{this.unsubscribe&&(this.unsubscribe!==e&&(this.provided=!1,this.unsubscribe()),this.subscribe||this.unsubscribe()),this.value=t,this.host.requestUpdate(),this.provided&&!this.subscribe||(this.provided=!0,this.callback&&this.callback(t,e)),this.unsubscribe=e},this.host=t,void 0!==e.context){const t=e;this.context=t.context,this.callback=t.callback,this.subscribe=t.subscribe??!1}else this.context=e,this.callback=s,this.subscribe=i??!1;this.host.addController(this)}hostConnected(){this.dispatchRequest()}hostDisconnected(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}dispatchRequest(){this.host.dispatchEvent(new d(this.context,this.t,this.subscribe))}}class p{get value(){return this.o}set value(t){this.setValue(t)}setValue(t,e=!1){const s=e||!Object.is(t,this.o);this.o=t,s&&this.updateObservers()}constructor(t){this.subscriptions=new Map,this.updateObservers=()=>{for(const[t,{disposer:e}]of this.subscriptions)t(this.o,e)},void 0!==t&&(this.value=t)}addCallback(t,e,s){if(!s)return void t(this.value);this.subscriptions.has(t)||this.subscriptions.set(t,{disposer:()=>{this.subscriptions.delete(t)},consumerHost:e});const{disposer:i}=this.subscriptions.get(t);t(this.value,i)}clearCallbacks(){this.subscriptions.clear()}}class f extends Event{constructor(t){super("context-provider",{bubbles:!0,composed:!0}),this.context=t}}class b extends p{constructor(t,e,s){super(void 0!==e.context?e.initialValue:s),this.onContextRequest=t=>{const e=t.composedPath()[0];t.context===this.context&&e!==this.host&&(t.stopPropagation(),this.addCallback(t.callback,e,t.subscribe))},this.onProviderRequest=t=>{const e=t.composedPath()[0];if(t.context!==this.context||e===this.host)return;const s=new Set;for(const[t,{consumerHost:e}]of this.subscriptions)s.has(t)||(s.add(t),e.dispatchEvent(new d(this.context,t,!0)));t.stopPropagation()},this.host=t,void 0!==e.context?this.context=e.context:this.context=e,this.attachListeners(),this.host.addController?.(this)}attachListeners(){this.host.addEventListener("context-request",this.onContextRequest),this.host.addEventListener("context-provider",this.onProviderRequest)}hostConnected(){this.host.dispatchEvent(new f(this.context))}}function m({context:t}){return(e,s)=>{const i=new WeakMap;if("object"==typeof s)return s.addInitializer((function(){i.set(this,new b(this,{context:t}))})),{get(){return e.get.call(this)},set(t){return i.get(this)?.setValue(t),e.set.call(this,t)},init(t){return i.get(this)?.setValue(t),t}};{e.constructor.addInitializer((e=>{i.set(e,new b(e,{context:t}))}));const n=Object.getOwnPropertyDescriptor(e,s);let o;if(void 0===n){const t=new WeakMap;o={get:function(){return t.get(this)},set:function(e){i.get(this).setValue(e),t.set(this,e)},configurable:!0,enumerable:!0}}else{const t=n.set;o={...n,set:function(e){i.get(this).setValue(e),t?.call(this,e)}}}return void Object.defineProperty(e,s,o)}}}function v({context:t,subscribe:e}){return(s,i)=>{"object"==typeof i?i.addInitializer((function(){new u(this,{context:t,callback:t=>{this[i.name]=t},subscribe:e})})):s.constructor.addInitializer((s=>{new u(s,{context:t,callback:t=>{s[i]=t},subscribe:e})}))}}var y=s(1956),g=function(t,e,s,i){var n,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,s,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(o<3?n(r):o>3?n(e,s,r):n(e,s))||r);return o>3&&r&&Object.defineProperty(e,s,r),r},x=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};const k=Symbol(),w=t=>{class e extends t{getUid(){return(0,y.uid)()}constructor(...t){super(...t),this.linkedUid=this.getUid()}get linkedItemStyles(){return this.linkedItemsContext[this.linkedUid].styles}connectedCallback(){super.connectedCallback(),this.linkedUid in this.linkedItemsContext||(this.linkedItemsContext[this.linkedUid]={element:this,styles:{}})}firstUpdated(){this.linkedUid in this.linkedItemsContext&&(this.linkedItemsContext[this.linkedUid].element=this._rootElement??this)}disconnectedCallback(){super.disconnectedCallback(),this.linkedUid in this.linkedItemsContext&&delete this.linkedItemsContext[this.linkedUid]}}return g([(0,n.P)("*"),x("design:type",HTMLElement)],e.prototype,"_rootElement",void 0),g([v({context:k,subscribe:!0}),x("design:type",Object)],e.prototype,"linkedItemsContext",void 0),e},_=t=>{class e extends t{constructor(){super(...arguments),this.linkedItemsContext=new Proxy({},{set:(t,e,s,i)=>{let n=s.styles,o=s.element;const r=this;return Reflect.set(t,e,{get styles(){return n},set styles(t){r.scheduleContextUpdate(),n=t},get element(){return o},set element(t){o=t}},i)}})}async scheduleContextUpdate(){this.linkedItemsContext={...this.linkedItemsContext}}get itemValues(){return Object.values(this.linkedItemsContext)}get itemKeys(){return Object.keys(this.linkedItemsContext)}get itemEntries(){return Object.entries(this.linkedItemsContext)}set itemEntries(t){this.linkedItemsContext=Object.fromEntries(t)}}return g([m({context:k}),x("design:type",Object)],e.prototype,"linkedItemsContext",void 0),e};class C extends(w(i.WF)){constructor(){super(...arguments),this.hasTransition=!1}static{this.styles=[i.AH`
			:host {
				display: flex;
			}

			::slotted(*) {
				width: 100%;
				height: 100%;
			}

			.with-transition {
				transition:
					0.3s linear left,
					0.3s linear width,
					0.3s linear height,
					0.3s linear top,
					0.3s linear opacity;
			}
		`]}render(){return i.qy`<div class=${(t=>(this.hasTransition?"with-transition":void 0)??o.s6)()} style=${h(this.linkedItemStyles)}>
			<slot></slot>
		</div>`}}g([(0,n.MZ)({type:Boolean}),x("design:type",Object)],C.prototype,"hasTransition",void 0);class $ extends(w(i.WF)){static{this.styles=i.AH`
		:host {
			display: contents;
		}

		.image-comparator-item {
			all: inherit;
			display: revert;
			position: absolute;
			width: auto;
			height: auto;
			overflow: hidden;
		}
	`}render(){return i.qy`<div class="image-comparator-item" style=${h(this.linkedItemStyles)}>
			<slot></slot>
		</div>`}}const{I:M}=o.ge,A=()=>document.createComment(""),E=(t,e,s)=>{const i=t._$AA.parentNode,n=void 0===e?t._$AB:e._$AA;if(void 0===s){const e=i.insertBefore(A(),n),o=i.insertBefore(A(),n);s=new M(e,o,t,t.options)}else{const e=s._$AB.nextSibling,o=s._$AM,r=o!==t;if(r){let e;s._$AQ?.(t),s._$AM=t,void 0!==s._$AP&&(e=t._$AU)!==o._$AU&&s._$AP(e)}if(e!==n||r){let t=s._$AA;for(;t!==e;){const e=t.nextSibling;i.insertBefore(t,n),t=e}}}return s},I=(t,e,s=t)=>(t._$AI(e,s),t),U={},j=t=>{t._$AP?.(!1,!0);let e=t._$AA;const s=t._$AB.nextSibling;for(;e!==s;){const t=e.nextSibling;e.remove(),e=t}},L=(t,e,s)=>{const i=new Map;for(let n=e;n<=s;n++)i.set(t[n],n);return i},O=r(class extends c{constructor(t){if(super(t),2!==t.type)throw Error("repeat() can only be used in text expressions")}dt(t,e,s){let i;void 0===s?s=e:void 0!==e&&(i=e);const n=[],o=[];let r=0;for(const e of t)n[r]=i?i(e,r):r,o[r]=s(e,r),r++;return{values:o,keys:n}}render(t,e,s){return this.dt(t,e,s).values}update(t,[e,s,i]){const n=(t=>t._$AH)(t),{values:r,keys:c}=this.dt(e,s,i);if(!Array.isArray(n))return this.ut=c,r;const l=this.ut??=[],a=[];let h,d,u=0,p=n.length-1,f=0,b=r.length-1;for(;u<=p&&f<=b;)if(null===n[u])u++;else if(null===n[p])p--;else if(l[u]===c[f])a[f]=I(n[u],r[f]),u++,f++;else if(l[p]===c[b])a[b]=I(n[p],r[b]),p--,b--;else if(l[u]===c[b])a[b]=I(n[u],r[b]),E(t,a[b+1],n[u]),u++,b--;else if(l[p]===c[f])a[f]=I(n[p],r[f]),E(t,n[u],n[p]),p--,f++;else if(void 0===h&&(h=L(c,f,b),d=L(l,u,p)),h.has(l[u]))if(h.has(l[p])){const e=d.get(c[f]),s=void 0!==e?n[e]:null;if(null===s){const e=E(t,n[u]);I(e,r[f]),a[f]=e}else a[f]=I(s,r[f]),E(t,n[u],s),n[e]=null;f++}else j(n[p]),p--;else j(n[u]),u++;for(;f<=b;){const e=E(t,a[b+1]);I(e,r[f]),a[f++]=e}for(;u<=p;){const t=n[u++];null!==t&&j(t)}return this.ut=c,((t,e=U)=>{t._$AH=e})(t,a),o.c0}});class D extends(_(i.WF)){constructor(){super(...arguments),this._imageData={}}static{this.styles=i.AH`
		:host {
			position: relative;
			width: 100%;
			height: 100%;
		}

		.comparison-slider {
			position: absolute;
			top: 50%;
			transform: translate(-50%, -50%);
			z-index: 1;
			width: 40px;
			height: 40px;
			background-color: #333;
			border-radius: 50%;
			cursor: ew-resize;
		}
	`}get clickedElement(){return this.itemKeys.find((t=>this._imageData[t].isClicked))}slide(t,e){const s=this.linkedItemsContext[t],i=this._imageData[t];s.styles={width:String(e)+"px"},i.style.left=String(e)+"px",this._imageData={...this._imageData}}onMouseStart(t,e){t.preventDefault();const s={...this._imageData};s[e].isClicked=!0,this._imageData=s}onMouseMove(t){const e=this.clickedElement;if(!e)return;const s=this.linkedItemsContext[e];s.styles={left:"0"};let i=t.pageX-s.element.getBoundingClientRect().left-window.scrollX;i<0&&(i=0),i>this._imageData[e].offsetWidth&&(i=this._imageData[e].offsetWidth),this.slide(e,i)}onMouseUp(){this._imageData=Object.fromEntries(Object.entries(this._imageData).map((([t,e])=>[t,{...e,isClicked:!1}])))}updateEntries(t=!1){this.itemEntries.forEach((([e,{element:{offsetWidth:s}}],i,n)=>{this._imageData[e]={isClicked:!1,offsetWidth:s,style:{}},t&&this.slide(e,s-s/n.length*i)})),t||(this._imageData={...this._imageData})}async scheduleUpdate(){const t=this.itemValues.map((t=>t.element));if(!t.every((t=>t instanceof $&&!t.hasUpdated)))return super.scheduleUpdate();for(const e of t)await e.updateComplete;return this.updateEntries(),super.scheduleUpdate()}firstUpdated(){this.updateEntries(!0),window.addEventListener("mouseup",this.onMouseUpListener??=()=>{this.onMouseUp()}),window.addEventListener("pointerup",this.onMouseUpListener),window.addEventListener("mousemove",this.onMouseMoveListener??=t=>{this.onMouseMove(t)}),window.addEventListener("pointermove",this.onMouseMoveListener)}disconnectedCallback(){super.disconnectedCallback(),this.onMouseMoveListener&&(window.removeEventListener("mousemove",this.onMouseMoveListener),window.removeEventListener("pointermove",this.onMouseMoveListener)),this.onMouseUpListener&&(window.removeEventListener("mouseup",this.onMouseUpListener),window.removeEventListener("pointerup",this.onMouseUpListener))}render(){return i.qy`<slot></slot> ${O(this.itemKeys.slice(1),(t=>t),(t=>i.qy`<div
						class="comparison-slider"
						style=${h(this._imageData[t].style)}
						@mousedown=${e=>{this.onMouseStart(e,t)}}
						@pointerdown=${e=>{this.onMouseStart(e,t)}}
					></div>`))}`}}!function(t,e,s,i){var n,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,s,i);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(r=(o<3?n(r):o>3?n(e,s,r):n(e,s))||r);o>3&&r&&Object.defineProperty(e,s,r)}([(0,n.wk)(),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}("design:type",Object)],D.prototype,"_imageData",void 0)}}]);